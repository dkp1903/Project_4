<main>
  <div class="row topRow">
    <div class="col s12 m6 l8">
      <div class="card z-depth-3">
        <div class="card-image cardShowPage">
          <br ng-hide="ctrl.chartNum !== 0"><br ng-hide="ctrl.chartNum !== 0"><br ng-hide="ctrl.chartNum !== 0"><br ng-hide="ctrl.chartNum !== 0"><br ng-hide="ctrl.chartNum !== 0"><br ng-hide="ctrl.chartNum !== 0">
          <h3 ng-hide="ctrl.chartNum !== 0">Process Stock Data</h3>
          <a class="btn-floating btn-large waves-effect waves-light deep-orange accent-3" ng-hide="ctrl.chartNum !== 0" ng-click="ctrl.chartNum = 1; ctrl.getHistorical(ctrl.stock.symbol)">?</a>
          <!-- <img src="assets/images/stockPlaceHolder.png" class="hvr-grower chartPlaceholder" ng-hide="ctrl.chartNum !== 0" ng-click="ctrl.chartNum = 1; ctrl.getHistorical(ctrl.stock.symbol)"> -->
          <h6 class="infolink hvr-push" ng-click="ctrl.clickToOpen()" ng-hide="ctrl.chartNum === 0">How does this chart work?</h6>
          <script type="text/ng-template" id="templateId">
            <h3>chart-reading tip</h3>
            <p>The chart represents the past 54 months of stock data, and the percentage (higher or lower) variance from that starting point.  If you bought this stock 4 months ago and are interested in seeing your stock grow higher or lower from that point, click on the graph above fifty to set a new origin tracking bar and evaluate your growth from that specific point!</p>
          </script>
          <nvd3 options="ctrl.options" data="ctrl.data"></nvd3>
        </div>
        <div class="card-content">
          <p class="white-text">I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
        </div>
        <!-- <div class="card-action">
          <a href="#">This is a link</a>
        </div> -->
      </div>
    </div>
    <div class="col s12 m6 l4">
      <div class="card z-depth-3">
        <div class="card-image cardShowPage waves-effect waves-block waves-light twitterHolder teal accent-2">
          <h3>Twitter Analysis Score</h3>
          <h3 class="deep-orange-text accent-3">{{ctrl.twitAnalysis.score}}</h3>
          <a class="btn-floating btn-large waves-effect waves-light deep-orange-text accent-3 white" ng-click="ctrl.twitScoreKnown = 1; ctrl.twitSentQuery(ctrl.stock.twitterHandle)" ng-hide="ctrl.twitScoreKnown !== 0">?</a>
          <!-- <img class="activator hvr-grower" src="assets/images/twitterIcon.png"> -->
        </div>
        <div class="card-content">
          <span class="card-title activator white-text">What are people saying?<i class="material-icons right">more_vert</i></span>
          <!-- <p><a href="#">This is a link</a></p> -->
        </div>
        <div class="card-reveal">
          <div data-clicker><button class="deep-orange accent-3 white-text" ng-click="ctrl.cloudClick = 1" ng-hide="ctrl.cloudClick === 1">Click to create</button></div>
          <span class="card-title grey-text text-darken-4">Twitter word cloud<i class="material-icons right">close</i></span>
          <div class="cloudSpot">
          </div>
            <script type="text/ng-template" id="/partials/pop.html">
              <tang-cloud words='ctrl.words'></tang-cloud>
            </script>
          <p class="cloudCaption">The bigger the word appears in the cloud, the more frequent it has appeared in our Twitter sentiment analysis</p>
        </div>
      </div>
    </div>
  </div>





<!-- being -->

<div class="row rowTwo">
  <div class="stock-show col s12 m6 l3 card teal z-depth-3 white-text"><h5>{{ctrl.stock.name}}</h5></div>
  <div class="stock-show col s12 m6 l3 card deep-orange accent-3 z-depth-3 white-text"><h5>PE Ratio: {{ctrl.stock.peRatio || N/A}}</h5></div>
  <div class="stock-show col s12 m6 l3 card blue-grey darken-1 z-depth-3 white-text"><h5>Dividend Yield: {{ctrl.stock.dividendYield || N/A}}</h5> </div>
  <div class="stock-show col s12 m6 l3 card teal darken-4 z-depth-3 white-text"><h5 ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">Sentiment Score for {{ctrl.stock.twitterHandle}}: {{ctrl.twitAnalysis.score || "?"}}</h5></div>
</div>
<div class="container">
  <div class="row">
    <div class="col s12 z-depth-5 black-text">
      <p> </p><br>
      <h4 class="center-align">Total Portofolio Value: <span class="deep-orange-text accent-3">{{(ctrl.myPortfolio.cash + ctrl.total) | currency}}</span></h4>
      <h4 class="center-align">Shares owned for {{ctrl.stock.symbol}}: <span class="deep-orange-text accent-3">{{ctrl.thisStockQty}}</span></h4>
      <h4 class="center-align">Cash Available*: <span class="deep-orange-text accent-3">{{ctrl.myPortfolio.cash || 0 | currency}}</span></h4>
    </div>
  </div>
  <h6>*A $20.00 transaction fee requires you to have enough cash to proceed with purchases</h6>
</div>





<div class="container">
  <div class="row values card white z-depth-3">
    <h5 class="col s6">{{ctrl.stock.symbol}}'s current holdings: <span class="deep-orange-text accent-3">{{ctrl.thisStockQty * ctrl.stock.lastTradePriceOnly | currency}}</span></h5>
  <!--   <h5 class="col s6 sentimentOverChart">sentiment score: <span class="t-score">{{ctrl.twitAnalysis.score || "?"}}</span></h5> -->
    <h5 class="col s6 valueOverChart">{{ctrl.stock.symbol}}'s current value: <span class="deep-orange-text accent-3">{{ctrl.stock.lastTradePriceOnly | currency}}</span></h5>
  </div>
</div>




<div class="container">
  <div class="row">
    <div class="col s12 m6 l6">
      <div class="cashCard card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">Market Value: {{ctrl.stock.lastTradePriceOnly | currency}}</span>
          <p>for {{ctrl.date | date:'yyyy-MM-dd'}}</p>

        </div>
        <div class="card-action">
        </div>
      </div>
    </div>
        <!-- second card -->
    <div class="col s12 m6 l6">
      <div class="cashCard card blue-grey darken-1">
        <div class="card-content white-text">
            <!-- TODO: FIX THIS. get rid of JANKY ng-model -->
          <span class="card-title"><input placeholder="Stock Quantity"type="number" ng-model="ctrl.stock.qty"></span>
          <p>{{ctrl.myPortfolio.cash || 0 | currency}}<span class="asterix">*</span></p>
        </div>
        <div class="card-action">
          <div class="valign-wrapper">
            <button class="cashButton valign btn-floating btn-large waves-effect waves-light deep-orange accent-3" ng-click="ctrl.buyStock(ctrl.stock)">BUY</button>
            <button class="cashButton valign btn-floating btn-large waves-effect waves-light white deep-orange-text text-accent-3" ng-click="ctrl.sellStock(ctrl.stock)">SELL</button>
          </div>
        </div>
      </div>
      <h6>* All transactions will be assessed a $20.00 transaction fee</h6>
    </div>
  </div>
</div>

<!-- <div class="partyWrapper">

<div class="wordsParty row">
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
  <div class="col s2"><h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
  </h5></div>
</div>
</div>
  that.myPortfolio.stocksInPortfolio[0].stock._id -->
<!-- page slide stuff for portfolio -->

<div ng-include="'app/dashboard/partials/slideoutportfolio.html'"></div>
 <div title="PORT" id="portfolio-button" class="fixed-action-btn">
    <a class="btn-floating btn-large deep-orange accent-3" ng-click="ctrl.toggle()">
      <i class="fa fa-briefcase"></i>
    </a>
  </div>
   <!-- page slide stuff for portfolio -->

<!--  -->
<!-- <div class="row clock">
  <div class="col s2"></div>
  <div class="col s1"></div>
  <div class="col s2 buyAndSell"></div>
  <div class="col s2 buyAndSell"><h4 id="textLeft"></h4></div>
  <div class="col s2"><h5 id="portValue"></h5></div>
  <div class="col s3"><h3>Market Value: {{ctrl.stock.lastTradePriceOnly}}</h3></div>
</div> -->


<!-- <div class="row gridRow">
    <div class="col s2 offset-s2 gridColShow">
      <h5>{{ctrl.stock.name}}</h5>
    </div>
    <div class="col s2 gridColShow">
      <h5>

      </h5>
    </div>
    <div class="col s2 gridColShow">
      <p>Dividend Yield: {{ctrl.stock.dividendYield}} <br> Last Trade Price: {{ctrl.stock.lastTradePriceOnly}}</p>
    </div>
    <div class="col s2 gridColShow" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">
      <h5>{{ctrl.stock.twitterHandle}} <br> Sentiment Score: {{ctrl.twitAnalysis.score}}</h5>
    </div>
  </div> -->

 <!--  <div class="row gridRow">
   <div class="col s1"></div>
    <div id="financeGraph" class="col s6" ng-click="ctrl.getHistorical(ctrl.stock.symbol)">
    <div class="container">
      <div class="graph-header">
        <h4>Process Historical Data</h4>
      </div>

      </div>
        <div class="graph-body">
          <canvas id="line" class="chart chart-line" options="ctrl.options" data="ctrl.data"
          labels="ctrl.labels" legend="true" series="ctrl.series"
          click="ctrl.onClick">
          </canvas>
        </div>
      </div>
      <div id="sentimentData" class="col s3 gridColTwo" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">
      {{ctrl.twitAnalysis.score}}
        <h5 class="tweets" ng-repeat="word in ctrl.twitAnalysis.words track by $index">
          {{word}}
        </h5>
      </div>
    </div>
  <div id="cloudster">

  </div>



 -->
</main>









<!-- <div class="container">
{{ctrl.stock}}
 <table class="hoverable">
        <thead>
          <tr>
              <th data-field="id">{{ctrl.stock.name}}</th>

              <th data-field="price">Item Price</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>PE Ratio</td>
            <td>{{ctrl.stock.peRatio}}</td>
          </tr>
          <tr>
            <td>Dividend Yield</td>
            <td>{{ctrl.stock.dividendYield}}</td>
          </tr>
          <tr>
            <td>Last Trade Price</td>
            <td>{{ctrl.stock.lastTradePriceOnly}}</td>
          </tr>
        </tbody>
      </table>





<input type="number" ng-model="ctrl.stock.qty">
<button class="btn btn-inverse btn-lg" ng-click="ctrl.buyStock(ctrl.stock)">BUY</button>
<button class="btn btn-inverse btn-lg" ng-click="ctrl.sellStock(ctrl.stock)">SELL</button>
<button class="btn btn-inverse btn-lg" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">TWITSENT</button>
<br>
<div ng-include="'app/dashboard/partials/twitsent.html'"></div>
<br>

<button class="btn btn-inverse btn-lg" ng-click="ctrl.getCurrent(ctrl.stock.symbol)">Get Current</button>
<br>

<ul class="collection">
      <li class="collection-item">dividendYield: {{ctrl.currentData.dividendYield}}</li>
      <li class="collection-item">change: {{ctrl.currentData.change}}</li>
      <li class="collection-item">changeFrom200DayMovingAverage: {{ctrl.currentData.changeFrom200DayMovingAverage}}</li>
      <li class="collection-item">changeAndPercentChange: {{ctrl.currentData.changeAndPercentChange}}</li>
     <! <li class="collection-item">52WeekHigh: {{ctrl.currentData.52WeekHigh}}</li>
      <li class="collection-item">open: {{ctrl.currentData.open}}</li>
      <li class="collection-item">volume: {{ctrl.currentData.volume}}</li>
      <li class="collection-item">marketCapitalization: {{ctrl.currentData.marketCapitalization}}</li>
      <li class="collection-item">epsEstimateCurrentYear: {{ctrl.currentData.epsEstimateCurrentYear}}</li>
      <li class="collection-item">epsEstimateNextQuarter: {{ctrl.currentData.epsEstimateNextQuarter}}</li>
    </ul>
    {{ctrl.currentData}}
</div>
<hr>
<!<button class="btn btn-inverse btn-lg" ng-click="ctrl.getHistorical(ctrl.stock.symbol)">Get Historical</button>

<h4>a nice chart here:</h4>
<div class="container">
<canvas id="line" class="chart chart-line" options="ctrl.options" data="ctrl.data"
  labels="ctrl.labels" legend="true" series="ctrl.series"
  click="ctrl.onClick">
</canvas>
<br>
<! <canvas id="bar" class="chart chart-bar" data="ctrl.barData"
  labels="ctrl.barLabels"></canvas>
<<<<<<< HEAD
</div> -->
