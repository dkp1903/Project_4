

<nav ng-controller="NavbarCtrl" id="shownav"class="teal accent-3 topNav">
  <ul class="left hide-on-med-and-down">
    <li>
      <a href="" class="navbar-brand">MarketMental</a>
    </li>

  </ul>
  <ul class="side-nav fixed" id="side-nav-main">
    <li><a href="/" class="navbar-brand-slide"><img src="../../../../assets/images/homeIcon.png" class="navIcon"></a></li>
    <li><a href="" ng-click="ctrl.tab = 0" class="navbar-brand-slide"><img src="../../../../assets/images/news.png" class="navIcon"></a></li>
    <li><a href="" ng-click="ctrl.tab = 2" class="navbar-brand-slide"><img src="../../../../assets/images/moneyIcon.png" class="navIcon"></a></li>
    <li><a href="" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)"><img src="../../../../assets/images/twitterIcon.png" class="navIcon"></a></li>

  </ul>
<!--  -->
  <ul class="right navbar-nav navbar-right">
    <li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}">
      <a ng-href="{{item.link}}" ng-click="ctrl.tab = 0">{{item.title}}</a>
    </li>

    <li ng-show="isAdmin()" ><a href="" ng-click="update()">Update Stocks</a></li>
    <li ng-show="isAdmin()" ng-class="{active: isActive('/admin')}"><a href="/admin">Admin</a></li>
    <li ng-show="isAdmin()" ><a href="/admin" ng-click="createStockInventory()">Create Stocks</a></li>
    <li ng-hide="isLoggedIn()" ng-class="{active: isActive('/signup')}"><a href="/signup">Sign up</a></li>
    <li ng-hide="isLoggedIn()" ng-class="{active: isActive('/login')}"><a href="/login">Login</a></li>
    <li ng-show="isLoggedIn()" ng-class="navbar-text">Hello {{ getCurrentUser().name }}</li>
    <li ng-show="isLoggedIn()" ng-class="{active: isActive('/settings')}"><a href="/settings"><span class="glyphicon glyphicon-cog"></span></a></li>
    <li ng-show="isLoggedIn()" ng-class="{active: isActive('/logout')}"><a href="" ng-click="logout()">Logout</a></li>
  </ul>
  <a href="#" data-activates="slide-out" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
</nav>

<div ng-include="'app/dashboard/partials/dash.html'"></div>
<div ng-include="'app/dashboard/partials/stocksNav.html'"></div>

<main>
<!-- being -->
<div class="container">
      <div class="row">
        <div class="col s12 m6">
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">Market Value: {{ctrl.stock.lastTradePriceOnly}}</span>
              <p></p>
            </div>
            <div class="card-action">

            </div>
          </div>
        </div>
        <!-- second card -->
        <div class="col s12 m6">
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title"><input placeholder="Stock Quantity"type="number" ng-model="ctrl.stock.qty"></span>
              <p></p>

            </div>
            <div class="card-action">
              <div class="valign-wrapper">
                <button class="valign btn-floating btn-large waves-effect waves-light blue" ng-click="ctrl.sellStock(ctrl.stock)">SELL</button>

                <button class="valign btn-floating btn-large waves-effect waves-light red" ng-click="ctrl.buyStock(ctrl.stock)">BUY</button>
              </div>
            </div>
          </div>
        </div>
        <!-- second END -->
      </div>
  </div>
<!--  -->
<!-- <div class="row clock">
  <div class="col s2"></div>
  <div class="col s1"></div>
  <div class="col s2 buyAndSell"></div>
  <div class="col s2 buyAndSell"><h4 id="textLeft"></h4></div>
  <div class="col s2"><h5 id="portValue"></h5></div>
  <div class="col s3"><h3>Market Value: {{ctrl.stock.lastTradePriceOnly}}</h3></div>
</div> -->

<div class="row gridRow">
    <div class="col s2 offset-s2 gridColShow">
      <h5>{{ctrl.stock.name}}</h5>
    </div>
    <div class="col s2 gridColShow">
      <h5>
             PE Ratio:
            {{ctrl.stock.peRatio}}
      </h5>
    </div>
    <div class="col s2 gridColShow">
      <p>Dividend Yield: {{ctrl.stock.dividendYield}} <br> Last Trade Price: {{ctrl.stock.lastTradePriceOnly}}</p>
    </div>
    <div class="col s2 gridColShow" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">
      <h5>{{ctrl.stock.twitterHandle}} <br> Sentiment Score: {{ctrl.twitAnalysis.score}}</h5>
    </div>
  </div>
  <div class="row gridRow">
   <div class="col s1"></div>
    <div id="financeGraph" class="col s6" ng-click="ctrl.getHistorical(ctrl.stock.symbol)">
    <div class="container">
      <div class="graph-header">
        <h4>Process Historical Data</h4>
      </div>

      </div>
        <div class="graph-body">
          <canvas id="line" class="chart chart-line" options="ctrl.options" data="ctrl.data"
          labels="ctrl.labels" legend="true" series="ctrl.series"
          click="ctrl.onClick">
          </canvas>
        </div>
      </div>
      <div id="sentimentData" class="col s3 gridColTwo">
        <h5 class="tweets" ng-repeat="positive in ctrl.twitAnalysis.positive track by $index">
          {{positive}}
        </h5>
      </div>
    </div>
  </div>
</main>





<script>
  'use strict'
$( document ).ready(function() {
  // Handler for .ready() called.
// Initialize collapse button
  $(".button-collapse").sideNav();
  $('.button-collapse').sideNav({
      menuWidth: 200, // Default is 240
      edge: 'left', // Choose the horizontal origin
      closeOnClick: false // Closes side-nav on <a> clicks, useful for Angular/Meteor

    }
  );
  // Show sideNav
  $("#stockToggle").click(function () {
    console.log("baby baby");
    $('.button-collapse').sideNav('show');
  });
  // Hide sideNav
  // $("#stockToggle").click(function() {
  //  $('.button-collapse').sideNav('hide');
  // });
  var currentDate = new Date()
  var day = currentDate.getDate()
  var month = currentDate.getMonth() + 1
  var year = currentDate.getFullYear()
  var date = document.getElementById("textLeft");
  date.innerHTML = "<b>" + day + "/" + month + "/" + year + "</b>";
  console.log("funky")
});

</script>











<!-- <div class="container">
{{ctrl.stock}}
 <table class="hoverable">
        <thead>
          <tr>
              <th data-field="id">{{ctrl.stock.name}}</th>

              <th data-field="price">Item Price</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>PE Ratio</td>
            <td>{{ctrl.stock.peRatio}}</td>
          </tr>
          <tr>
            <td>Dividend Yield</td>
            <td>{{ctrl.stock.dividendYield}}</td>
          </tr>
          <tr>
            <td>Last Trade Price</td>
            <td>{{ctrl.stock.lastTradePriceOnly}}</td>
          </tr>
        </tbody>
      </table>





<input type="number" ng-model="ctrl.stock.qty">
<button class="btn btn-inverse btn-lg" ng-click="ctrl.buyStock(ctrl.stock)">BUY</button>
<button class="btn btn-inverse btn-lg" ng-click="ctrl.sellStock(ctrl.stock)">SELL</button>
<button class="btn btn-inverse btn-lg" ng-click="ctrl.twitSentQuery(ctrl.stock.twitterHandle)">TWITSENT</button>
<br>
<div ng-include="'app/dashboard/partials/twitsent.html'"></div>
<br>

<button class="btn btn-inverse btn-lg" ng-click="ctrl.getCurrent(ctrl.stock.symbol)">Get Current</button>
<br>

<ul class="collection">
      <li class="collection-item">dividendYield: {{ctrl.currentData.dividendYield}}</li>
      <li class="collection-item">change: {{ctrl.currentData.change}}</li>
      <li class="collection-item">changeFrom200DayMovingAverage: {{ctrl.currentData.changeFrom200DayMovingAverage}}</li>
      <li class="collection-item">changeAndPercentChange: {{ctrl.currentData.changeAndPercentChange}}</li>
     <! <li class="collection-item">52WeekHigh: {{ctrl.currentData.52WeekHigh}}</li>
      <li class="collection-item">open: {{ctrl.currentData.open}}</li>
      <li class="collection-item">volume: {{ctrl.currentData.volume}}</li>
      <li class="collection-item">marketCapitalization: {{ctrl.currentData.marketCapitalization}}</li>
      <li class="collection-item">epsEstimateCurrentYear: {{ctrl.currentData.epsEstimateCurrentYear}}</li>
      <li class="collection-item">epsEstimateNextQuarter: {{ctrl.currentData.epsEstimateNextQuarter}}</li>
    </ul>
    {{ctrl.currentData}}
</div>
<hr>
<!<button class="btn btn-inverse btn-lg" ng-click="ctrl.getHistorical(ctrl.stock.symbol)">Get Historical</button>

<h4>a nice chart here:</h4>
<div class="container">
<canvas id="line" class="chart chart-line" options="ctrl.options" data="ctrl.data"
  labels="ctrl.labels" legend="true" series="ctrl.series"
  click="ctrl.onClick">
</canvas>
<br>
<! <canvas id="bar" class="chart chart-bar" data="ctrl.barData"
  labels="ctrl.barLabels"></canvas>
<<<<<<< HEAD
</div> -->
